var Sparrow=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=15)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return Array.isArray(e)?(e.length&&e.splice(t,1),e):l.isObject(e)?(delete e[t],e):e}function o(){}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.nullFunction=o;var c=n(1),f=r(c),l=function(){function e(){i(this,e)}return s(e,null,[{key:"get",value:function(t,n,r){if(n.indexOf(".")!==-1){var i=n.split("."),a=i.shift();return e.has(t,a)?e.get(t[a],i.join("."),r):r}return e.has(t,n)?t[n]:r}},{key:"set",value:function(t,n,r){if(n.indexOf(".")!==-1){var i=n.split("."),a=i.shift();return e.has(t,a)||(t[a]={}),t[a]=e.set(t[a],i.join("."),r),t}return t[n]=r,t}},{key:"remove",value:function(t,n){if(n.indexOf(".")!==-1){var r=n.split("."),i=r.shift();return e.has(t,i)?(e.remove(t[i],r.join(".")),t):t}return a(t,n),t}},{key:"removeElement",value:function(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}},{key:"has",value:function(t,n){return Array.isArray(t)?"undefined"!=typeof t[n]:!!e.isObject(t)&&t.hasOwnProperty(n)}},{key:"define",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Object.defineProperty(e,t,{value:n,enumerable:r,writable:!0,configurable:!0})}},{key:"flatten",value:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n))if("object"==u(e[n])){var r=flattenObject(e[n]);for(var i in r)r.hasOwnProperty(i)&&(t[n+"."+i]=r[i])}else t[n]=e[n];return t}},{key:"isObject",value:function(e){return"object"===("undefined"==typeof e?"undefined":u(e))&&null!==e}},{key:"isPlainObject",value:function(e){return f.default.$.isPlainObject(e)}},{key:"isNative",value:function(e){return/native code/.test(e.toString())}},{key:"isReserved",value:function(e){var t=(e+"").charCodeAt(0);return"$"===t||"_"===t}},{key:"bind",value:function(e,t){return function(n){var r=arguments.length;return 1===r?e.call(t,n):0===r?e.call(t):e.apply(t,arguments)}}},{key:"isJquery",value:function(t){return!!e.isObject(t)&&(t instanceof f.default.$||"jquery"in t||f.default.$.zepto.isZ(t))}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2),u=r(o),s=n(5),c=r(s),f="sparrow",l=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i(this,e);var a=null;r=r||e.$,r||console.error("Sparrow.$ is NULL, please set jQuery or Zepto object into it."),n.domready&&(a=n.el,n.el=null,r(document).ready(function(e){t.$options.el=a,t.$mount(a)})),this.app=new u.default(r),this.app.init(this,n)}return a(e,null,[{key:"plugin",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.$;r||console.error("Sparrow.$ is NULL, please set jQuery or Zepto object into it."),r.fn[t]=function(i){var a=r(this[0]);return a.data(t)||(n=r.extend(!0,{},n,i),n.el=a,a.data(t,new e(n))),a.data(t)}}},{key:"$",set:function(t){Object.defineProperty(e,"$",{value:t}),e.$._name="zepto"in e.$?"Zepto":"jQuery",e.plugin(f)}}]),e}();t.default=l,l.prototype.$createElement=l.createElement=c.default,l.Promise=u.default.Promise,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){o(e,e.options.data),e.options.methods&&u(e,e.options.methods),e.options.computed&&c(e,e.options.computed),e.options.watch&&s(e,e.options.watch)}function o(e,t){for(var n in t)x.default.isReserved(n)||f(e.instance,t,n);e.observerFactory.create(t)}function u(e,t){for(var n in t){var r=t[n];e.options.data[n]||"function"!=typeof r||(e.instance[n]=x.default.bind(r,e.instance))}}function s(e,t){for(var n in t){var r=t[n],i=void 0;x.default.isPlainObject(r)&&(i=r,r=r.handler),"string"==typeof r&&(r=e[r]),e.watch(n,r,i)}}function c(e,t){var n=function(n){var r=t[n],i=P.nullFunction,a=void 0,o=void 0;a="function"==typeof r?r:r.get,a=x.default.bind(a,e.instance);var u=new y.default(e,n,a,{lazy:!0});e.hasOwnProperty(n)||("function"!=typeof r&&(i=r.set,o=r.cache,a=o===!1?P.nullFunction:function(){return u.getCachedValue()}),i=x.default.bind(i,e.instance),Object.defineProperty(e.data,n,{enumerable:!0,configurable:!0,get:a,set:i}))};for(var r in t)n(r)}function f(e,t,n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e}})}function l(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i="$"+n;e[i]=function(){var i=t[n].apply(t,arguments);return r?e:i}}Object.defineProperty(t,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.proxy=f,t.proxyMethod=l;var p=n(10),v=n(4),y=r(v),b=n(14),w=r(b),m=n(11),k=r(m),g=n(3),_=r(g),O=n(7),j=r(O),P=n(0),x=r(P),A=n(12),E=r(A),S=n(8),M=r(S),T=n(6),$=r(T),I={data:{}},D=0,N=function(){function e(t){i(this,e),this.id=++D,this.$=t,this.watcher=null,this.watchers=[],this.currentWatcher=null,this.watcherStack=[],this.elements={},this._isMounted=!1,this.registry=new w.default(this,{observerFactory:new p.ObserverFactory(this),scheduler:new k.default(this),error:new j.default,event:new M.default(this)})}return d(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.options=this.$.extend({},I,t),this.data=t.data,this.instance=e,e.$=this.$,e.$data=this.options.data,e.$options=this.options,l(e,this,"find"),l(e,this,"async"),l(e,this,"mount",!0),l(e,this,"bind",!0),l(e,this,"on",!0),l(e,this,"model",!0),l(e,this,"show",!0),l(e,this,"wrap",!0),l(e,this,"watch",!0),l(e,this,"nextTick"),l(e,this,"forceUpdate",!0),l(e,this.event,"listen",!0),l(e,this.event,"off",!0),l(e,this.event,"once",!0),l(e,this.event,"emit",!0),l(e,this.observerFactory,"set",!0),l(e,this.observerFactory,"delete",!0),this.hook("beforeCreate"),a(this),this.hook("created"),t.el&&this.mount(t.el)}},{key:"mount",value:function(e){if(this._isMounted)return void this.error.warn("This app has been already mounted.");this.hook("beforeMount");var t=x.default.isJquery(e)?e:this.$(e);if(0!==t.length)this.instance.$el=this.$el,this._isMounted=!0,this.hook("configure"),this.hook("mounted"),this.watcher=new y.default(this,function(){this.app.watchers.map(function(e){return e.update()})},P.nullFunction),this.forceUpdate();else;}},{key:"forceUpdate",value:function(){this.watcher&&this.watcher.update()}},{key:"hook",value:function(e){this.options.hasOwnProperty(e)&&"function"==typeof this.options[e]&&this.options[e].call(this.instance)}},{key:"bind",value:function(e,t,n){var r=this.find(e);if("string"==typeof n){var i=n;n=function(e,t){switch(i){case":html":e.html(t);break;case":text":e.text(t);break;case":value":$.default.isFormElement(e)&&$.default.update(e);break;default:e.attr(i,t)}}}return this.watch(t,function(e,t,i){n.call(this.instance,r,e,t,i)}),this}},{key:"on",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.find(e),a=this,o=function(e){n.call(a.instance,a.$(this),e)};return r?this.$el.on(t,e,o):i.on(t,o),this}},{key:"model",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,n){var r=void 0;switch(e.attr("type")){case"radio":r=e[0].value;break;default:r=e.val()}return x.default.set(this.$data,t,r)},i=this.find(e);return this.watch(function(){var e=x.default.get(this.$data,t);i.val()!==e&&$.default.update(i,e)},P.nullFunction),this.on(e,"change",r,n),"SELECT"!==i[0].tagName&&this.on(e,"input",r,n),this}},{key:"show",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.find(e);null!==r&&(i=i||r),r=r||"show",i=i||"hide";var o=function(e){return function(){return"string"==typeof e?function(){return a[e]()}:"function"==typeof e?function(t,r,i){return e.call(n.instance,a,t,r,i)}:void 0}()},u=function(e,t,n){var a=1==e||0!=e;a!=(1==t||0!=t)&&(a?o(r)(e,t,n):o(i)(e,t,n))};return this.watch(t,u),this}},{key:"wrap",value:function(e,t){var n=this.find(e),r=this,i={execute:function(){t.call(this,n,this)}};return["bind","on","model","show"].forEach(function(e){i["$"+e]=function(){return r[e].apply(r,[n].concat(Array.prototype.slice.call(arguments))),this}}),i.execute(n),this}},{key:"watch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.user=!0;var r=new y.default(this,e,t,n);return this.watchers.push(r),n.immediate&&t.call(this.instance,r.get()),function(){r.teardown()}}},{key:"find",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return("object"!==("undefined"==typeof e?"undefined":h(e))||x.default.isJquery(e))&&"string"===e?(this.elements.hasOwnProperty(e)&&!t||(this.elements[e]=this.$el.find(e)),this.elements[e]):this.$(e)}},{key:"nextTick",value:function(e){return _.default.nextTick(e)}},{key:"async",value:function(t){return new e.Promise(function(n){e.Promise.resolve().then(t).then(function(e){return n(e)})})}},{key:"pushStack",value:function(e){this.currentWatcher&&this.watcherStack.push(this.currentWatcher),this.currentWatcher=e}},{key:"popStack",value:function(){this.currentWatcher=this.watcherStack.pop()}}]),e}();t.default=N,N.Promise=E.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=r(i),o=n(13),u=n(2),s=r(u),c={pending:!1,tasks:[],handler:null,nextTick:function(e,t,n){var r=this.getHandler(),i=void 0;if(this.tasks.push(function(){e&&e.call(t),i&&i(t)}),this.pending||(this.pending=!0,n&&n.hook("beforeUpdate"),r()),!e&&"undefined"!=typeof Promise)return s.default.Promise(function(e){i=e})},execute:function(){c.pending=!1;var e=c.tasks.slice(0);c.tasks.length=0;var t=!0,n=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;o()}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}},getHandler:function(){var e=this;if("function"!=typeof this.handler)if("undefined"!=typeof Promise&&a.default.isNative(Promise)){var t=Promise.resolve();this.handler=function(){t.then(e.execute).catch(function(e){return console.error(e)}),o.isIOS&&setTimeout(i.nullFunction)}}else if("undefined"==typeof MutationObserver||!a.default.isNative(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())this.handler=function(){setTimeout(e.execute,0)};else{var n=1,r=new MutationObserver(this.execute),u=document.createTextNode(String(n));r.observe(u,{characterData:!0}),this.handler=function(){n=(n+1)%2,u.data=String(n)}}return this.handler}};t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=r(o),s=0,c={deep:!1,user:!1,sync:!1,computed:!1,deferred:!1},f=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i(this,e),this.options=t.$.extend({},c,a),this.id=++s,this.path=n,this.callback=r,this.app=t,this.active=!0,this.ctrl=null,this.deep=this.options.deep,this.user=this.options.user,this.sync=this.options.sync,this.computed=this.options.computed,this.deferred=this.options.deferred,this.expression="",this.dispatcherIds=[],this.dispatchers=[],this.newDisptacherIds=[],this.newDisptachers=[],"function"==typeof this.path?this.getter=this.path:this.getter=function(e){return u.default.get(e,n)}}return a(e,[{key:"get",value:function(){this.app.pushStack(this);var e=void 0;return e=this.getter.call(this.app.instance,this.app.data),this.app.popStack(),this.resetDispatchers(),e}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.ctrl=e,this.computed?this.deferred=!0:this.sync?this.run():this.app.scheduler.enqueueWatcher(this)}},{key:"run",value:function(){if(this.active){var e=this.get();if(e!==this.value||this.deep||u.default.isObject(e)){var t=this.value;this.value=e,this.callback.call(this.app.instance,e,t,this.ctrl)}}this.ctrl=null}},{key:"getCachedValue",value:function(){if(this.defer&&(this.get(),this.defer=!1),this.app.currentWatcher)for(var e in this.watcher.dispatchers)this.app.currentWatcher.addDispatcher(this.dispatchers[e]);return this.value}},{key:"resetDispatchers",value:function(){var e=this;this.dispatchers.map(function(t){e.newDisptacherIds.indexOf(t.id)===-1&&t.detach(e)});var t=void 0;t=this.newDisptachers,this.dispatchers=this.newDisptachers,this.newDisptachers=t,this.newDisptachers.length=0,t=this.newDisptacherIds,this.dispatcherIds=this.newDisptacherIds,this.newDisptacherIds=t,this.newDisptacherIds.length=0}},{key:"addDispatcher",value:function(e){var t=e.id;this.newDisptacherIds.indexOf(t)===-1&&(this.newDisptacherIds.push(t),this.newDisptachers.push(e),this.dispatcherIds.indexOf(t)===-1&&e.attach(this))}},{key:"removeDispatcher",value:function(e){u.default.removeElement(this.dispatchers,e),e.detach(this)}},{key:"teardown",value:function(){var e=this;this.dispatchers.map(function(t){e.removeDispatcher(t),u.default.removeElement(e.watchers,e)})}}]),e}();t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=document.createElement(e);for(var i in t){var o=t[i];r.setAttribute(i,o)}return a(r,n),r}function a(e,t){if(null!==t)if("string"==typeof t||"number"==typeof t)e.append(t);else if(t instanceof Element)e.appendChild(t);else if(t instanceof f.default.$||s.default.isJquery(t))t.each(function(){e.appendChild(this)});else if(Array.isArray(t)||"object"===("undefined"==typeof t?"undefined":o(t)))for(var n in t)a(e,t[n])}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=i;var u=n(0),s=r(u),c=n(1),f=r(c);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=r(o),s=function(){function e(){i(this,e)}return a(e,null,[{key:"isFormElement",value:function(t){var n=u.default.isJquery(t)?t[0].tagName:t.tagName;return[e.INPUT,e.SELECT,e.TEXTAREA].indexOf(n)!==-1}},{key:"update",value:function(t,n){var r="update"+t[0].tagName;e[r](t,n)}},{key:"updateINPUT",value:function(e,t){switch(e.attr("type")){case"radio":case"checkbox":e.filter("[value="+t+"]").prop("checked",!0);break;default:e.val(t)}}},{key:"updateTEXTAREA",value:function(e,t){e.val(t)}},{key:"updateSELECT",value:function(e,t){e.val(t)}}]),e}();t.default=s,s.INPUT="INPUT",s.SELECT="SELECT",s.TEXTAREA="TEXTAREA",e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this.app=t}return i(e,[{key:"warn",value:function(e){console.warn(this.format(e))}},{key:"error",value:function(e){console.error(this.format(e))}},{key:"log",value:function(e){console.log(this.format(e))}},{key:"format",value:function(e){return"[Sparrow]: "+e}}]),e}();t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this.app=t,this.events={}}return i(e,[{key:"listen",value:function(e,t){var n=this;return Array.isArray(e)?(e.map(function(e){return n.listen(e,t)}),this):(this.events.hasOwnProperty(e)||(this.events[e]=[]),this.events[e].push(t),this)}},{key:"once",value:function(e,t){var n=this,r=arguments,i=function(){var i=t.apply(n.app.instance,r);return n.off(e),i};return this.listen(e,i)}},{key:"off",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===t)this.events={};else if(Array.isArray(t))return t.map(function(t){return e.listen(t,n)}),this;if(!this.events.hasOwnProperty(t))return this;if(null===n)this.events[t]=[];else if("function"==typeof n&&Array.isArray(this.events[t]))for(var r in this.events[t]){var i=this.events[t][r];i===n&&this.events[t].splice(r,1)}return this}},{key:"emit",value:function(e){if(!this.events.hasOwnProperty(e))return this;if(!Array.isArray(this.events[e]))return this;for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i in this.events[e]){var a=this.events[e][i];a.call.apply(a,[this.app.instance].concat(n))}return this}}]),e}();t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),u=(r(o),n(0)),s=r(u),c=0,f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];i(this,e),this.id=++c,this.watchers=n,this.app=t}return a(e,[{key:"attach",value:function(e){this.watchers.push(e)}},{key:"detach",value:function(e){return s.default.removeElement(this.watchers,e),e.removeDispatcher(),this}},{key:"attachCurrent",value:function(){this.app.currentWatcher&&this.app.currentWatcher.addDispatcher(this)}},{key:"notify",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.watchers.forEach(function(t){return t.update(e)})}}]),e}();t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ObserverFactory=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=r(o),s=n(9),c=r(s),f=function e(t,n){i(this,e),this.value=t,this.dispatcher=n,u.default.define(t,"__observer__",this,!1)};t.default=f;var l="__proto__"in{},h=Array.prototype,d=["push","pop","shift","unshift","splice","sort","reverse"];t.ObserverFactory=function(){function e(t){i(this,e),this.app=t}return a(e,[{key:"create",value:function(e){var t=this;if(!u.default.isObject(e))return null;var n=void 0;if(!e.hasOwnProperty("__observer__")&&e.__observer__ instanceof f)n=e.__observer__;else if(Array.isArray(e))n=new f(e,new c.default(this.app)),this.replaceArrayMethods(e),e.forEach(function(e){return t.create(e)});else if(u.default.isPlainObject(e)&&Object.isExtensible(e)){n=new f(e,new c.default(this.app));var r=!0,i=!1,a=void 0;try{for(var o,s=Object.keys(e)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;this.reactive(e,l,e[l])}}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}}return n}},{key:"set",value:function(e,t,n){if(Array.isArray(e))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(u.default.has(e,t))return e[t]=n,n;var r=e.__observer__;return r?(this.reactive(e,t,n),r.dispatcher.notify(),n):(r[t]=n,n)}},{key:"delete",value:function(e,t){if(Array.isArray(e))return void e.splice(t,1);var n=e.__observer__;u.default.has(e,t)&&(delete e[t],n&&n.dispatcher.notify())}},{key:"reactive",value:function(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t),i=new c.default(this.app),a=this;if(!r||r.configurable!==!1){var o=r&&r.get,u=r&&r.set,s=this.create(n);Object.defineProperty(e,t,{get:function(){return n=o?o.call(e):n,a.app.currentWatcher&&(a.app.currentWatcher.addDispatcher(i),s&&a.app.currentWatcher.addDispatcher(s.dispatcher),Array.isArray(n)&&a.attachArray(n)),n},set:function(t){var r=o?o.call(e):n;t===r||t!==t&&r!==r||(u?u.call(e,t):n=t,s=a.create(t),i.notify())}})}}},{key:"attachArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!0,n=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;o&&o.__observer__&&this.app.currentWatcher.addDispatcher(o.__observer__.dispatcher),Array.isArray(o)&&this.attachArray(o)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}},{key:"replaceArrayMethods",value:function(e){var t=this,n=Object.create(h);return d.forEach(function(e){var r=h[e];u.default.define(n,e,function(){for(var n=arguments.length,i=new Array(n);n--;)i[n]=arguments[n];var a=r.apply(this,i),o=this.__observer__,u=void 0;switch(e){case"push":u=i;break;case"unshift":u=i;break;case"splice":u=i.slice(2)}return u&&t.create(u),o.dispatcher.notify({method:e,args:i}),a})}),l?(e.__proto__=n,e):(n.forEach(function(t,n){return u.default.define(e,n,t)}),e)}}]),e}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),u=r(o),s={WAITING:"waiting",RUNNING:"running"},c=function(){function e(t){i(this,e),this.app=t,this.queue=[],this.watchers={},this.index=0,this.state=s.WAITING,this.circular=[]}return a(e,[{key:"setState",value:function(e){this.state=e}},{key:"is",value:function(e){return this.state===e}},{key:"enqueueWatcher",value:function(e){if(!this.watchers[e.id])switch(this.watchers[e.id]=!0,this.state){case s.WAITING:this.queue.push(e),this.setState(s.RUNNING),u.default.nextTick(this.execute,this,this.app);break;case s.RUNNING:for(var t=this.queue.length-1;t>=0&&this.queue[t].id>e.id;)t--;this.queue.splice(Math.max(t,this.index)+1,0,e)}}},{key:"execute",value:function(){this.queue.sort(function(e,t){return e.id-t.id});var e=!0,t=!1,n=void 0;try{for(var r,i=this.queue[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;this.index++,this.watchers[a.id]=null,a.run()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}this.reset()}},{key:"reset",value:function(){this.queue.length=0,this.watchers={},this.circular={},this.setState(s.WAITING)}}]),e}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=r(u),c=window.jQuery,f=function(){function e(t){a(this,e);var n=c.Deferred(),r=n.resolve,i=n.reject;t(r,i),this.defer=c.when(n)}return o(e,[{key:"then",value:function(e,t){return this.defer.then(e,t)}},{key:"catch",value:function(e){return this.defer.catch(e)}}],[{key:"all",value:function(e){return c.when.apply(c,i(e))}},{key:"race",value:function(t){var n=void 0;return new e(function(e){n=e,t.map(function(t){t.then(function(t){n&&e(t)})})})}},{key:"resolve",value:function(t){if(t instanceof e)return t.defer.resolve(),t;var n=new e(function(e){return e(t)});return s.default.isObject(t)&&t.hasOwnProperty("then")?n.then(t.then):n}},{key:"reject",value:function(t){return new e(function(e,n){return n(t)})}}]),e}();t.default=f,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.inBrowser="undefined"!=typeof window,i=t.UA=r&&window.navigator.userAgent.toLowerCase();t.isIE=i&&/msie|trident/.test(i),t.isIE9=i&&i.indexOf("msie 9.0")>0,t.isEdge=i&&i.indexOf("edge/")>0,t.isAndroid=i&&i.indexOf("android")>0,t.isIOS=i&&/iphone|ipad|ipod|ios/.test(i)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.app=t,this.store={};for(var i in n)this.set(i,n[i])}return i(e,[{key:"get",value:function(e){return this.store[e]}},{key:"set",value:function(e,t){var n=this;return this.store[e]=t,Object.defineProperty(this.app,e,{get:function(){return n.get(e)}}),this}}]),e}();t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=window.jQuery||window.Zepto||window.$||null;o&&(a.default.$=o),t.default=a.default,e.exports=t.default}]);