"use strict";function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(a,e,n){return e&&t(a.prototype,e),n&&t(a,n),a}}();!function(t){function a(t){return"string"!=typeof t&&t instanceof this.$||(t=this.$(t)),t}function e(t,a,e){var n=Object.getOwnPropertyDescriptor(t,a);if(!n||n.configurable!==!1){n&&n.get,n&&n.set;Object.defineProperty(t,a,{get:function(){return t.notify(a),t.data[a]},set:function(e){t.data[a]=e,t.notify(a)}})}}var n="sparrow",i={},s=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,n),this.$=t,this.$el=a.call(this,e.el),this.data=e.data,this.options=t.extend(!0,{},i,e),this.boardcasts={},this.init(),this.options.created.call(this)}return _createClass(n,[{key:"init",value:function(){var a=this;t.each(this.options.data,function(t,n){e(a,t,n)})}},{key:"bind",value:function(t,e,n){var i=a.call(this,t);if(this.boardcasts[e]||(this.boardcasts[e]=[]),"string"==typeof n){var s=n;n=function(t,a){switch(s){case":html":t.html(a);break;case":text":t.text(a);break;case"value":if("INPUT"===t[0].tagName){t.val(a);break}default:t.attr(s,a)}}}return this.boardcasts[e].push({element:i,callback:n}),this}},{key:"on",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=a.call(this,t);return i?this.$el.on(e,t,n):s.on(e,n),this}},{key:"model",value:function(a,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.bind(a,e,"value").on(a,"change",function(a){n[e]=t(a.target).val()},i)}},{key:"notify",value:function(a){var e=this;this.boardcasts[a]&&t.each(this.boardcasts[a],function(t,n){n.callback(n.element,e.data[a])})}}]),n}();t.fn[n]=function(a){return t.data(this,n)||(a.el=this,t.data(this,n,new s(a))),t.data(this,n)},window.Sparrow=s}(jQuery);